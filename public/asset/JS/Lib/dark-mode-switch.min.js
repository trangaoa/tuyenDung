const darkSwitch = document.getElementById("darkSwitch");

function initTheme() {
    const e = null !== localStorage.getItem("darkSwitch") && "dark" === localStorage.getItem("darkSwitch");
    darkSwitch.checked = e;
    if (darkSwitch.checked) {
        var item = document.getElementsByClassName('dark-mode');

        for (element of item) {
            element.setAttribute("id", "darkmode");
        }
    } else {
        var item = document.getElementsByClassName('dark-mode');
        for (element of item) {
            element.removeAttribute("id");
        }
    }
}

function resetTheme() {
    if (darkSwitch.checked) {
        var item = document.getElementsByClassName('dark-mode');
        for (element of item) {
            element.setAttribute("id", "darkmode");
        }
        localStorage.setItem("darkSwitch", "dark");
    } else {
        var item = document.getElementsByClassName('dark-mode');
        for (element of item) {
            element.removeAttribute("id");
        }
        localStorage.removeItem("darkSwitch");
    }
}
window.addEventListener("load", () => { darkSwitch && (initTheme(), darkSwitch.addEventListener("change", () => { resetTheme() })) });